<!--
#########################################################################
## Page to display current user's want list                            ##
#########################################################################
-->
{{extend 'layout.html'}}
{{if ('user' in globals()):}}
  <div class="panel panel-default">
    <!--Display list information-->
    <div class="panel-heading">
        <h2>
          {{if auth.is_logged_in() and (user.id == auth.user.id):}}
            Your
          {{else:}}
            {{=user.username}}'s
          {{pass}}
           Want List
        </h2>
    </div>
    {{if auth.is_logged_in() and (user.id == auth.user.id):}}
    <!--Display controls to add an object to list,
    if the list belongs to current user-->
    <div class="panel-body">
      <div class="btn-group" role="group">
        <a class="btn btn-primary", href={{=URL('want','custom')}}>
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add custom object</a>
        <a class="btn btn-default", href={{=URL('collection','search')}}>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search for objects to add</a>
      </div>
    </div>
    {{pass}}
  </div>
  {{if (len(objects)>0):}}
    <!--Display previews of list contents-->
    <div class="row">
      {{for objects in objects:}}
        {{include 'sub_views/object_preview.html'}}
      {{pass}}
    </div>
  {{else:}}
    <!--Display prompt if collection empty-->
    <div class="alert alert-danger" role="alert">
      <strong>This list is empty.</strong>
      {{if ('removal' in globals()) and auth.is_logged_in():}}
      <a href="{{=URL('collection','search')}}" class="alert-link">Search for objects to add</a>!
      {{pass}}
    </div>
  {{pass}}
{{else:}}
  {{=P("Invalid user")}}
{{pass}}
